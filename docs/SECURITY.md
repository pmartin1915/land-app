# Security Guide - Alabama Auction Watcher ## **Security Configuration System** This document outlines the secure configuration management system implemented to protect API keys, secrets, and other sensitive data. ### **Environment-Based Configuration** All sensitive configuration data is now externalized using environment variables: ```bash # Required environment variables AUCTION_WATCHER_API_KEY=AW_prod_your_secure_key_here AUCTION_WATCHER_API_URL=http://localhost:8001/api/v1 ``` ### **Setup Instructions** 1. **Copy environment template:** ```bash cp .env.example .env.local ``` 2. **Update configuration:** Edit `.env.local` with your actual API keys and settings 3. **Generate secure API key:** ```bash python -c "import secrets; print(f'AW_prod_{secrets.token_urlsafe(32)}')" ``` ### **Security Features** #### ** Secure API Key Management** - Environment variable-based configuration - Automatic key validation and format checking - Fallback to secure development keys - No hardcoded credentials in source code #### **Ô∏è Defense in Depth** - Rate limiting protection - Request size limits - Secure HTTP headers - Session timeout management - CORS configuration #### ** File Protection** ```gitignore # Protected files in .gitignore .env.local .env.production config/.env* **/api_keys.json **/credentials.json ``` ### **Usage in Code** #### **Secure Configuration Access** ```python from config.security import get_security_config, create_secure_headers # Get configuration security_config = get_security_config() api_url = f"{security_config.api_base_url}/properties/" # Create secure headers headers = create_secure_headers() # Make API request response = requests.get(api_url, headers=headers, timeout=security_config.api_timeout) ``` #### **Configuration Validation** ```python from config.security import validate_api_key # Validate API key format if not validate_api_key(api_key): raise ValueError("Invalid API key format") ``` ### **Security Best Practices** #### **API Key Rotation** - Rotate API keys every 90 days - Use different keys for different environments - Monitor key usage and access patterns #### ** What NOT to Do** ```python # NEVER hardcode API keys API_KEY = "AW_hardcoded_key_123" # NEVER log sensitive data logger.info(f"Using API key: {api_key}") # NEVER commit credential files git add .env.local # This will be blocked by .gitignore ``` #### **What TO Do** ```python # Use secure configuration system from config.security import get_security_config security_config = get_security_config() # Log safely without exposing secrets logger.info("API configuration loaded successfully") # Validate configuration if not security_config.api_key.startswith("AW_"): raise ValueError("Invalid API key format") ``` ### **Environment Configuration** #### **Development** ```bash # .env.local (for development) AUCTION_WATCHER_API_KEY=AW_dev_local_development_key AUCTION_WATCHER_API_URL=http://localhost:8001/api/v1 DEBUG=true ``` #### **Production** ```bash # Set via environment variables (never in files) export AUCTION_WATCHER_API_KEY="AW_prod_secure_production_key" export AUCTION_WATCHER_API_URL="https://api.auction-watcher.com/v1" export SECURE_COOKIES=true ``` ### **Security Validation** #### **Configuration Check** ```bash # Test secure configuration python -c " from config.security import get_security_config, validate_api_key config = get_security_config() print(f'API URL: {config.api_base_url}') print(f'Key valid: {validate_api_key(config.api_key)}') print('Security configuration is working') " ``` #### **Security Audit Commands** ```bash # Check for hardcoded secrets grep -r "API_KEY.*=" --include="*.py" . || echo "No hardcoded API keys found" # Verify .gitignore protection git check-ignore .env.local && echo "Environment files are protected" ``` ### **Incident Response** #### **If API Key is Compromised** 1. **Immediately rotate the key** 2. **Update all environments with new key** 3. **Review access logs for unauthorized usage** 4. **Audit all code for potential exposure points** #### **Security Monitoring** - Monitor API usage patterns - Set up alerts for unusual access - Regular security configuration audits - Automated vulnerability scanning ### **Compliance & Standards** #### **Security Standards Met** - OWASP Top 10 compliance - No hardcoded secrets - Environment variable configuration - Secure defaults - Rate limiting - Input validation - Secure HTTP headers #### **Regular Security Tasks** - [ ] Monthly API key rotation - [ ] Quarterly security audit - [ ] Annual penetration testing - [ ] Continuous vulnerability monitoring ### **Contact Security Team** For security issues or questions: - **Security Email**: security@auction-watcher.com - **Emergency**: Use secure communication channels only - **Vulnerability Reports**: Follow responsible disclosure --- **Remember: Security is everyone's responsibility!** Never commit sensitive data, always use secure configuration, and follow the principle of least privilege.